/* ==========================================================
   JUVENTUD CNC — styles.css (CONSOLIDADO / SIN PELEAS)
   ✅ Topbar alineada con container
   ✅ Chat: solo permitido en BOX (y JS decide ON/OFF)
   ✅ Widgets Angie/Mia/Ciro: responsive y sin tapar tabs
   ✅ Overlay uniforme
   ✅ Calendario: grid 7 columnas (.cal-weekdays/.cal-days/.cal-day)
   ✅ Floats: 1-slot (una tarjeta a la vez, reemplazo, no invade)
   ========================================================== */

/* ==========================================================
   ROOT / TOKENS
   ========================================================== */
:root{
  /* Neutrales */
  --neutral-900:#020617;
  --neutral-800:#020617;
  --neutral-700:#0b1120;
  --neutral-600:#111827;
  --neutral-400:#9ca3af;
  --neutral-200:#e5e7eb;
  --neutral-100:#f3f4f6;

  /* Texto */
  --text-main:#e5e7eb;
  --text-muted:#9ca3af;

  /* Dinámicos */
  --brand:#2563eb;
  --brand-2:#1d4ed8;
  --accent:#ec4899;
  --accent-2:#f97316;

  /* Paleta chico/chica */
  --guy-main:#38bdf8;
  --guy-soft:rgba(56,189,248,.18);
  --girl-main:#f472b6;
  --girl-soft:rgba(244,114,182,.22);

  /* Cards */
  --card-bg:rgba(15,23,42,.90);
  --card-border:rgba(148,163,184,.26);
  --card-soft:rgba(15,23,42,.45);

  /* Botones */
  --btn-radius:999px;
  --btn-px:14px;
  --btn-py:8px;
  --btn-fw:500;

  /* Formas */
  --radius-lg:18px;
  --shadow-soft:0 12px 32px rgba(0,0,0,.55);

  /* Superficies */
  --topbar-bg:rgba(15,23,42,.92);
  --tabs-bg:rgba(15,23,42,.96);
  --drawer-bg:rgba(15,23,42,.98);

  /* Overlay */
  --overlay-bg:rgba(0,0,0,.45);

  /* Glow */
  --icon-glow:rgba(236,72,153,.18);

  /* Fondo “flow” */
  --bg-a:rgba(56,189,248,.15);
  --bg-b:rgba(244,114,182,.18);
  --bg-c:rgba(59,130,246,.17);
  --bg-base-1:#020617;
  --bg-base-2:#000;
  --veil-a:rgba(15,23,42,.80);
  --veil-b:rgba(15,23,42,.94);

  /* Fondos por tema */
  --jc-bg-default: url("assets/bg-floral.webp");
  --jc-bg-chicos:  url("assets/bg-blue.webp");
  --jc-bg-chicas:  url("assets/bg-pink.webp");
  --jc-bg-overlay: rgba(2,6,23,.55);

  /* Layout (una sola fuente de verdad) */
  --jc-maxw: 960px;
  --jc-safe-pad: 14px;

  /* Float */
  --jc-float-bottom: calc(78px + env(safe-area-inset-bottom));
}

/* ==========================================================
   RESET / BASE
   ========================================================== */
*,
*::before,
*::after{ box-sizing:border-box; }

html, body{
  width:100%;
  margin:0;
  padding:0;
  min-height:100%;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Evita “mover” topbar por scrollbar (PC) */
html{ overflow-y: scroll; }

body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  color:var(--text-main);
  background:#020617;
  position:relative;
}

h1,h2,h3{ font-weight:600; margin:0; }
p{ margin:0; }
.small{ font-size:12px; }
.muted{ color:var(--text-muted); }
.with-emoji[data-emoji]::before{ content: attr(data-emoji) " "; margin-right:6px; }

/* ==========================================================
   FONDO GLOBAL POR CAPAS (OFICIAL)
   ========================================================== */
#jcAppBgLayer,
#jcAppBgOverlay{
  position:fixed;
  inset:0;
  pointer-events:none;
}

#jcAppBgLayer{
  z-index:-2 !important;
  background-image: var(--jc-bg-image, var(--jc-bg-default, none));
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
}

#jcAppBgOverlay{
  z-index:-1 !important;
  background: var(--jc-bg-overlay);
  opacity:1;
  transition: opacity .18s ease;
}

/* Defaults por tema */
body[data-theme="chicos"]{ --jc-bg-default: var(--jc-bg-chicos); }
body[data-theme="chicas"]{ --jc-bg-default: var(--jc-bg-chicas); }
body[data-theme="mix"]{ --jc-bg-default: url("assets/bg-floral.webp"); }

/* Modo OFF */
body.jc-bg-off #jcAppBgLayer,
body.jc-bg-off #jcAppBgOverlay{ opacity:0; }
body.jc-bg-off{ background:#020617; }

/* (Opcional) Fondo dinámico tipo “flow” */
body::before,
body::after{ content:""; position:fixed; inset:0; pointer-events:none; opacity:0; }

body.jc-bg-dynamic::before{
  inset:-20px;
  z-index:-2;
  opacity:1;
  background:
    radial-gradient(circle at 0% 0%, var(--bg-a), transparent 55%),
    radial-gradient(circle at 100% 0%, var(--bg-b), transparent 55%),
    radial-gradient(circle at 0% 100%, var(--bg-c), transparent 55%),
    linear-gradient(135deg, var(--bg-base-1), var(--bg-base-2));
  animation:bg-flow 22s ease-in-out infinite alternate;
  filter:saturate(1.15);
}
body.jc-bg-dynamic::after{
  z-index:-1;
  opacity:1;
  background: radial-gradient(circle at top, var(--veil-a), var(--veil-b));
}
@keyframes bg-flow{
  0%{ transform:translate3d(0,0,0) scale(1); }
  50%{ transform:translate3d(-20px,10px,0) scale(1.03); }
  100%{ transform:translate3d(25px,-10px,0) scale(1.04); }
}
@media (prefers-reduced-motion: reduce){
  body.jc-bg-dynamic::before{ animation:none !important; }
}

/* Si tienes video/fondo animado, que jamás tape contenido */
video, .bg-video, .video-bg, #bgVideo{ z-index:0 !important; }

/* ==========================================================
   CONTENEDOR (MAIN) — padding bottom para tabs
   ========================================================== */
.container{
  width:100%;
  max-width:var(--jc-maxw);
  margin:0 auto;
  padding:18px var(--jc-safe-pad) calc(78px + env(safe-area-inset-bottom));
}

/* ==========================================================
   TOPBAR (alineada con container)
   ========================================================== */
.topbar{
  position:sticky;
  top:0;
  z-index:90;
  width:100%;
  background:var(--topbar-bg);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(148,163,184,.25);
}

.topbar-inner{
  width:100%;
  max-width:var(--jc-maxw);
  margin:0 auto;
  padding:10px var(--jc-safe-pad);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.topbar-title{
  margin:0;
  font-size:17px;
  letter-spacing:.02em;
}

.topbar-actions{
  display:flex;
  align-items:center;
  gap:10px;
}

.theme-picker{
  width:auto;
  min-width:120px;
  padding:8px 10px;
  border-radius:999px;
  font-size:12px;
  background:rgba(2,6,23,.55);
  border:1px solid rgba(148,163,184,.35);
  color:var(--text-main);
  outline:none;
}
.theme-picker:focus{
  border-color:rgba(56,189,248,.65);
  box-shadow:0 0 0 3px rgba(56,189,248,.14);
}

.icon-btn{
  border:none;
  background:radial-gradient(circle at 20% 20%, var(--icon-glow), transparent);
  padding:8px;
  border-radius:999px;
  cursor:pointer;
  color:var(--text-main);
  font-size:18px;
  transition:transform .14s ease, filter .14s ease;
}
.icon-btn:hover{ filter:brightness(1.12); transform:translateY(-1px); }
.icon-btn:active{ transform:translateY(0); }

/* ==========================================================
   VISTAS / ROUTER (fade + slide suave)
   ========================================================== */
.view{
  display:none !important;
  width:100%;
  min-height:calc(100dvh - 140px);
}

/* Entrada suave al activar */
.view.active{
  display:block !important;
  animation: jcViewIn 180ms ease both;
}

@keyframes jcViewIn{
  from{ opacity:0; transform:translateY(10px); }
  to{ opacity:1; transform:translateY(0); }
}

/* Accesibilidad: reduce motion */
@media (prefers-reduced-motion: reduce){
  .view.active{ animation:none !important; }
}

/* ==========================================================
   CARDS
   ========================================================== */
.card{
  background:linear-gradient(to bottom right, rgba(15,23,42,.92), rgba(15,23,42,.85));
  border-radius:var(--radius-lg);
  padding:16px 14px;
  border:1px solid var(--card-border);
  box-shadow:var(--shadow-soft);
  backdrop-filter:blur(10px);
}
.card-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:8px;
}
.card-body{ font-size:14px; }

/* ==========================================================
   HERO
   ========================================================== */
.hero{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:12px;
  background:linear-gradient(135deg, var(--brand), var(--accent));
  border-radius:var(--radius-lg);
  padding:18px;
  border:1px solid rgba(255,255,255,.14);
  animation:heroGlow 6s ease-in-out infinite alternate;
}
@keyframes heroGlow{ 0%{ filter:brightness(1);} 100%{ filter:brightness(1.2);} }

/* ==========================================================
   BOTONES / INPUTS
   ========================================================== */
.btn{
  border:none;
  border-radius:var(--btn-radius);
  padding:var(--btn-py) var(--btn-px);
  background:linear-gradient(135deg, var(--guy-main), var(--girl-main));
  color:#fff;
  cursor:pointer;
  font-size:13px;
  font-weight:var(--btn-fw);
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.btn.small{ padding:6px 10px; font-size:11px; }
.btn.ghost{
  background:transparent;
  border:1px solid rgba(148,163,184,.35);
  color:var(--text-main);
}

input,select,textarea{
  width:100%;
  padding:9px 12px;
  background:rgba(15,23,42,.92);
  border:1px solid rgba(148,163,184,.4);
  border-radius:10px;
  color:var(--text-main);
  max-width:100%;
}

.link{
  color:rgba(255,255,255,.92);
  text-decoration:none;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.28);
  background:rgba(2,6,23,.28);
}
.link:hover{
  border-color:rgba(56,189,248,.55);
  background:rgba(56,189,248,.12);
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  font-size:11px;
  font-weight:700;
  letter-spacing:.02em;
  border:1px solid rgba(148,163,184,.28);
  background:rgba(2,6,23,.3);
  color:#fff;
}
.badge-mix{
  background:linear-gradient(135deg, rgba(56,189,248,.25), rgba(244,114,182,.25));
  border-color:rgba(148,163,184,.22);
}

/* ==========================================================
   EVENTOS / LISTAS
   ========================================================== */
#eventList,#eventListHome{ margin-top:10px; }
.event-list{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
.event-item{
  padding:10px 12px;
  border-radius:12px;
  background:rgba(15,23,42,.92);
  border:1px solid rgba(148,163,184,.3);
  display:flex;
  gap:12px;
  justify-content:space-between;
  align-items:flex-start;
}
.event-title{ font-weight:600; line-height:1.2; }
.event-meta{
  font-size:11px;
  color:var(--text-muted);
  text-align:right;
  white-space:nowrap;
}
.event-toolbar{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end; }
.event-search-row{ display:flex; gap:10px; align-items:center; margin-top:10px; }
.event-search{
  flex:1;
  width:100%;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:inherit;
  outline:none;
}
.icon-mini{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:inherit;
  border-radius:12px;
  padding:6px 10px;
  cursor:pointer;
}

/* ==========================================================
   CALENDARIO (GRID 7 columnas)
   ========================================================== */
.cal-weekdays{
  display:grid;
  grid-template-columns:repeat(7, 1fr);
  gap:6px;
  opacity:.9;
}
.cal-weekdays span{
  text-align:center;
  font-size:11px;
  color:rgba(229,231,235,.85);
}

.cal-days{
  display:grid;
  grid-template-columns:repeat(7, 1fr);
  gap:6px;
  margin-top:8px;
}
.cal-day{
  border-radius:10px;
  padding:10px 0;
  text-align:center;
  cursor:pointer;
  user-select:none;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.16);
}
.cal-day:hover{ border-color:rgba(56,189,248,.35); background:rgba(56,189,248,.10); }
.cal-day.is-empty{
  opacity:0;
  pointer-events:none;
}
.cal-day.is-today{
  border-color:rgba(244,114,182,.55);
  box-shadow:0 0 0 3px rgba(244,114,182,.10);
}
.cal-day.has-events{
  background:linear-gradient(135deg, rgba(56,189,248,.16), rgba(244,114,182,.16));
  border-color:rgba(148,163,184,.28);
}

/* ==========================================================
   TABS (MENÚ INFERIOR)
   ========================================================== */
.tabs{
  position:fixed;
  bottom:0; left:0; right:0;
  z-index:95;
  display:grid;
  grid-template-columns:repeat(5, 1fr);
  padding:6px 8px 10px;
  background:var(--tabs-bg);
  backdrop-filter:blur(14px);
  border-top:1px solid rgba(148,163,184,.28);
}
.tab{
  border:none;
  background:transparent;
  padding:6px;
  font-size:12px;
  color:var(--text-muted);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2px;
  cursor:pointer;
  transition:.18s ease;
}
.tab.active{
  background:linear-gradient(135deg, var(--guy-soft), var(--girl-soft));
  color:#fff;
  border-radius:12px;
  transform:translateY(-2px);
  box-shadow:0 6px 18px rgba(56,189,248,.2);
}

/* ==========================================================
   DRAWER + OVERLAY (overlay uniforme)
   ========================================================== */
.drawer{
  position:fixed;
  inset:0 auto 0 0;
  width:260px;
  transform:translateX(-100%);
  background:var(--drawer-bg);
  border-right:1px solid rgba(148,163,184,.3);
  transition:transform .22s;
  z-index:110;
}
.drawer.open{ transform:translateX(0); }

.drawer-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 14px 10px;
  border-bottom:1px solid rgba(148,163,184,.22);
}
.drawer-header h2{ font-size:16px; margin:0; letter-spacing:.02em; }

.drawer-nav{
  display:flex;
  flex-direction:column;
  padding:10px 10px 16px;
  gap:6px;
}
.drawer-nav hr{
  width:100%;
  height:1px;
  border:none;
  background:rgba(148,163,184,.18);
  margin:8px 0;
}
.drawer-nav a,
.drawer-nav .drawer-link{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  text-decoration:none;
  color:rgba(255,255,255,.92);
  border:1px solid transparent;
  background:rgba(2,6,23,.18);
  cursor:pointer;
  transition:background .14s ease, border-color .14s ease, transform .14s ease;
}
.drawer-nav a:hover,
.drawer-nav .drawer-link:hover{
  background:rgba(56,189,248,.10);
  border-color:rgba(56,189,248,.25);
  transform:translateX(1px);
}
.drawer-footer{
  padding:10px 14px 14px;
  font-size:12px;
  color:var(--text-muted);
  border-top:1px solid rgba(148,163,184,.18);
  position:absolute;
  left:0; right:0; bottom:0;
}

.overlay{
  position:fixed;
  inset:0;
  background:var(--overlay-bg);
  backdrop-filter:none;
  z-index:100;
  opacity:0;
  visibility:hidden;
  pointer-events:none;
  transition:opacity .18s ease, visibility .18s ease;
}
.overlay.show{
  opacity:1;
  visibility:visible;
  pointer-events:auto;
}

/* ==========================================================
   GRID / FORM
   ========================================================== */
.grid{ display:grid; gap:10px; }
.perfil-form{
  margin-top:12px;
  grid-template-columns:repeat(2, minmax(0,1fr));
}
@media (max-width:520px){
  .perfil-form{ grid-template-columns:1fr; }
}

/* ==========================================================
   WIDGETS (Angie / Mia / Ciro)
   ========================================================== */
.angie-widget,.mia-widget,.ciro-widget,.alma-widget,
#angieWidget,#miaWidget,#ciroWidget,#almaWidget{
  position:fixed;
  display:flex;
  align-items:flex-end;
  gap:8px;
  transform:translateY(130%) scale(.88);
  opacity:0;
  pointer-events:none;
  transition:transform .4s ease, opacity .35s ease-out;
  z-index:205;
}

.angie-widget--visible,.mia-widget--visible,.ciro-widget--visible,.alma-widget--visible,
#angieWidget.angie-widget--visible,
#miaWidget.mia-widget--visible,
#ciroWidget.ciro-widget--visible,
#almaWidget.alma-widget--visible{
  transform:translateY(0) scale(1);
  opacity:1;
  pointer-events:auto;
}

/* NO tapar tabs */
.angie-widget, #angieWidget{ left:16px; bottom:96px; }
.mia-widget,   #miaWidget  { right:16px; bottom:186px; z-index:210; }
.ciro-widget,  #ciroWidget { right:16px; bottom:276px; z-index:215; }

/* En Box: ocultar widgets para que no estorben chat grande */
body[data-view="box"] .angie-widget,
body[data-view="box"] .mia-widget,
body[data-view="box"] .ciro-widget,
body[data-view="box"] #angieWidget,
body[data-view="box"] #miaWidget,
body[data-view="box"] #ciroWidget{
  opacity:0 !important;
  pointer-events:none !important;
  transform:translateY(130%) scale(.88) !important;
}

.bot-avatar{
  width:64px; height:64px;
  border-radius:999px;
  padding:4px;
  overflow:hidden;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  box-shadow:0 12px 24px rgba(0,0,0,.55);
}
.angie-avatar{ background:radial-gradient(circle at 30% 25%, #f472b6, #be185d); }
.mia-avatar{ background:radial-gradient(circle at 30% 25%, #c084fc, #6b21a8); }
.ciro-avatar{ background:radial-gradient(circle at 30% 25%, #60a5fa, #1d4ed8); }
.bot-avatar img{ width:100%; height:100%; object-fit:contain; }

.bot-bubble{
  max-width:260px;
  padding:10px 14px;
  border-radius:18px;
  background:rgba(15,23,42,.96);
  border:1px solid rgba(148,163,184,.5);
  color:var(--text-main);
  font-size:13px;
  box-shadow:0 14px 32px rgba(0,0,0,.8);
  position:relative;
  line-height:1.35;
}
.angie-bubble::before,.mia-bubble::before,.ciro-bubble::before{
  content:"";
  position:absolute;
  bottom:14px;
  width:12px; height:12px;
  background:inherit;
  transform:rotate(-45deg);
}
.angie-bubble::before{ left:-6px; border-right:1px solid rgba(244,114,182,.6); border-bottom:1px solid rgba(244,114,182,.6); }
.mia-bubble::before{ right:-6px; border-left:1px solid rgba(192,132,252,.6); border-bottom:1px solid rgba(192,132,252,.6); }
.ciro-bubble::before{ right:-6px; border-left:1px solid rgba(96,165,250,.6); border-bottom:1px solid rgba(96,165,250,.6); }

.bot-name{
  font-weight:700;
  font-size:11px;
  letter-spacing:.08em;
  text-transform:uppercase;
  margin-bottom:4px;
}
.angie-name{ color:#f472b6; }
.mia-name{ color:#c084fc; }
.ciro-name{ color:#60a5fa; }

.bot-close{
  position:absolute;
  top:6px;
  right:8px;
  background:transparent;
  border:none;
  color:#94a3b8;
  cursor:pointer;
  font-size:14px;
}
.bot-close:hover{ color:#e5e7eb; }


/* Alma (no tapa tabs, stack con Angie) */
.alma-widget, #almaWidget{ left:16px; bottom:186px; z-index:208; }

/* Estilo de Alma: suave/infantil */
.alma-avatar{ background:radial-gradient(circle at 30% 25%, #fde68a, #f59e0b); }
.alma-name{ color:#fde68a; }

/* En Box: fuera widgets */
body[data-view="box"] .alma-widget,
body[data-view="box"] #almaWidget{
  opacity:0 !important;
  pointer-events:none !important;
  transform:translateY(130%) scale(.88) !important;
}

/* ==========================================================
   CHAT — permitido solo en BOX (JS decide ON/OFF)
   ========================================================== */
.jc-chat, #jcChat{ display:none; }

/* Solo en BOX el chat puede mostrarse (si JS lo prende) */
body[data-view="box"] .jc-chat,
body[data-view="box"] #jcChat{
  /* NO forzamos display aquí, solo damos estilo cuando exista */
  position:relative;
  width:100%;
  max-width:var(--jc-maxw);
  height:min(70vh, 680px);
  margin:0 auto;

  flex-direction:column;
  background:rgba(15,23,42,.97);
  border-radius:16px;
  box-shadow:0 18px 40px rgba(0,0,0,.75);
  border:1px solid rgba(148,163,184,.5);
  overflow:hidden;
  z-index:180;
  font-size:11px;
}

.jc-chat-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 10px;
  border-bottom:1px solid rgba(148,163,184,.4);
  background:linear-gradient(135deg, rgba(56,189,248,.18), rgba(244,114,182,.18));
}
.jc-chat-title{
  display:flex;
  align-items:center;
  gap:6px;
  font-weight:600;
}
.dot-online{
  width:7px; height:7px;
  border-radius:999px;
  background:#22c55e;
  box-shadow:0 0 8px rgba(34,197,94,.8);
}
.jc-chat-toggle{
  appearance:none;
  border:none;
  background:transparent;
  color:var(--text-main);
  cursor:pointer;
  font-size:13px;
}
.jc-chat-body{
  flex:1 1 auto;
  min-height:0;
  padding:10px 8px;
  display:flex;
  flex-direction:column;
  gap:8px;
  overflow:auto;
}

/* ==========================================================
   FLOATER — 1 SLOT (REEMPLAZO)  ✅ compatible con tu bots.js
   - #jcFloatLayer contiene solo .jc-float-card
   ========================================================== */
#jcFloatLayer{
  position:fixed;
  left:12px;
  right:12px;
  bottom:var(--jc-float-bottom);
  z-index:220;           /* subir por encima de widgets/chat */
  pointer-events:none;
  display:flex;
  justify-content:center;
}

.jc-float-card{
  pointer-events:none;
  width:min(520px, calc(100vw - 24px));
  padding:12px 14px;
  border-radius:16px;
  background:rgba(15,23,42,.86);
  backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 16px 40px rgba(0,0,0,.35);
  transform:translateY(18px);
  opacity:0;
  transition:opacity .22s ease, transform .22s ease;
}

.jc-float-card.is-show{
  opacity:1;
  transform:translateY(0);
}

.jc-float-card .jc-float-top{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:6px;
}

.jc-float-pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  border-radius:999px;
  background:rgba(255,255,255,.10);
  font-size:12px;
  font-weight:700;
}

.jc-float-text{
  font-size:13.5px;
  line-height:1.35;
  opacity:.98;
  white-space:pre-wrap;
  overflow-wrap:anywhere;
}

/* Si no quieres floats fuera de INICIO, descomenta:
body:not([data-view="inicio"]) #jcFloatLayer{ display:none; }
*/

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .jc-float-card{ transition:none !important; }
}

/* ==========================================================
   LISTA MIEMBROS
   ========================================================== */
.user-list{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.user-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  border-radius:14px;
  background:rgba(15,23,42,.92);
  border:1px solid rgba(148,163,184,.28);
}
.estado-activo{ font-size:12px; font-weight:700; color:#22c55e; }

/* ==========================================================
   MODALES
   ========================================================== */
.jc-modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px 14px;
  z-index:130;
}
.jc-modal.show{ display:flex; }
.jc-modal-card{
  width:min(980px, 100%);
  max-height:calc(100vh - 80px);
  overflow:hidden;
  border-radius:22px;
  border:1px solid rgba(148,163,184,.28);
  background:rgba(2,6,23,.72);
  backdrop-filter:blur(16px);
  box-shadow:0 24px 70px rgba(0,0,0,.7);
  display:flex;
  flex-direction:column;
}
.jc-modal-body{ padding:12px; overflow:auto; }

/* Angie Palette iframe modal */
#angiePaletteModal .jc-modal-card{ width:min(980px, 100%); }
#angiePaletteModal .jc-modal-body{ padding:0; background:rgba(2,6,23,.55); }
#angiePaletteFrame{
  display:block;
  width:100%;
  height:min(78vh, 720px);
  border:0;
  border-radius:0 0 22px 22px;
  overflow:hidden;
  background:#fff;
}

/* ==========================================================
   RESPONSIVE
   ========================================================== */
@media (max-width:560px){
  :root{ --jc-safe-pad: 12px; }


    .alma-widget, #almaWidget{ left:10px; bottom:186px; }

    
  .topbar-title{
    font-size:15px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
    max-width:42vw;
  }
  .topbar-actions{ flex-wrap:wrap; justify-content:flex-end; gap:8px; }
  .theme-picker{ max-width:150px; font-size:12px; }

  .hero{ grid-template-columns:1fr; }

  /* Widgets escalonados */
  .angie-widget, #angieWidget{ left:10px; bottom:102px; right:auto; }
  .mia-widget,   #miaWidget  { right:10px; bottom:186px; left:auto; }
  .ciro-widget,  #ciroWidget { right:10px; bottom:270px; left:auto; }

  .event-item{ flex-direction:column; align-items:flex-start; }
  .event-meta{ white-space:normal; text-align:left; }
  .event-search-row{ flex-direction:column; align-items:stretch; }
}