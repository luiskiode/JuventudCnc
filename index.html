<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juventud CNC</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <!-- SDKs -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-messaging-compat.js"></script>
  <!-- Configs (pon tus claves) -->
  <script defer src="supabase-config.js"></script>
  <script defer src="firebase-config.js"></script>
  <meta name="theme-color" content="#0A2B7A" />
</head>
<body>
  <!-- Drawer lateral -->
  <aside id="drawer" class="drawer">
    <div class="drawer-header">
      <h2>Juventud CNC</h2>
      <button id="closeDrawer" aria-label="Cerrar">âœ•</button>
    </div>
    <nav class="drawer-nav">
      <a href="#inicio" data-tab="inicio">Inicio</a>
      <a href="#eventos" data-tab="eventos">Eventos</a>
      <a href="#comunidad" data-tab="comunidad">Comunidad</a>
      <a href="#recursos" data-tab="recursos">Recursos</a>
      <a href="#avisos" data-tab="avisos">Avisos</a>
    </nav>
    <footer class="drawer-footer">v1.2 â€¢ Hecho con â¤</footer>
  </aside>

  <!-- Overlay -->
  <div id="overlay" class="overlay" tabindex="-1" aria-hidden="true"></div>

  <!-- Topbar -->
  <header class="topbar">
    <button id="openDrawer" class="icon-btn" aria-label="MenÃº">â˜°</button>
    <h1>Juventud CNC</h1>
    <button id="btnPerfil" class="icon-btn" aria-label="Perfil">ğŸ‘¤</button>
  </header>

  <!-- Vistas -->
  <main class="container">
    <!-- INICIO -->
   <section class="card" id="mensaje-semanal">
  <div class="flex">
    <h3 class="with-emoji" data-emoji="ğŸ“">Mensaje Semanal</h3>
    <button id="btnEditMsg" class="btn small adminOnly" hidden>Editar</button>
  </div>
  <article id="msgContent">
    <h4 id="msgTitle">Esperanza viva ğŸ’™âœ¨</h4>
    <p id="msgBody">
      Queridos jÃ³venes ğŸ™Œ, ustedes son la esperanza viva ğŸŒŸ de una Iglesia en camino â›ªğŸš¶â€â™€ï¸ğŸš¶â€â™‚ï¸.
      Gracias por su presencia y por su contribuciÃ³n a la vida del Cuerpo de Cristo âœï¸.<br><br>
      Les pido: Â¡no dejen de traer ese â€˜lÃ­oâ€™ bueno ğŸ”¥ que sacude y renueva!, ese empuje ğŸš€ de un motor limpio y Ã¡gil ğŸ› ï¸,
      y su modo original ğŸ˜Š de vivir y anunciar la alegrÃ­a de JesÃºs Resucitado âœ¨.<br><br>
      Rezo por ello ğŸ™; y ustedes tambiÃ©n, por favor, recen por mÃ­. ğŸ¤
    </p>
    <small id="msgMeta">Papa Fracisco â€¢ ahora</small>
  </article>
</section>

      <section class="card hero">
        <h2>Â¡Bienvenido a Juventud CNC!</h2>
        <p>Tu espacio para conectar, crecer y vivir la fe.</p>
        <div class="hero-icons" aria-hidden="true">ğŸ’™ ğŸ™‚</div>
      </section>

      <section class="card">
        <div class="flex">
          <h3 class="with-emoji" data-emoji="ğŸ“…">PrÃ³ximos Eventos</h3>
          <a class="link" href="#eventos" data-tab="eventos">Ver todos</a>
        </div>
        <ul id="eventListHome" class="event-list"></ul>
      </section>
    </section>

    <!-- EVENTOS -->
    <section class="view" id="view-eventos" data-view="eventos" tabindex="-1">
      <section class="card">
        <div class="flex">
          <h3 class="with-emoji" data-emoji="ğŸ—“ï¸">PrÃ³ximos Eventos</h3>
          <select id="filtroTipo" class="select">
            <option value="">Todos</option>
            <option>reuniÃ³n</option>
            <option>formaciÃ³n</option>
            <option>retiro</option>
            <option>vigilia</option>
            <option>voluntariado</option>
          </select>
        </div>
        <ul id="eventList" class="event-list"></ul>
      </section>
    </section>

    <!-- COMUNIDAD -->
    <section class="view" id="view-comunidad" data-view="comunidad" tabindex="-1">
      <section class="card" id="miembros">
        <h3 class="with-emoji" data-emoji="ğŸ‘¥">Registro de Miembros</h3>
        <form id="formMiembro" class="grid">
          <input name="nombre" placeholder="Nombre y Apellido" required />
          <input name="edad" type="number" placeholder="Edad" min="10" max="99" required />
          <input name="contacto" type="tel" placeholder="Contacto (celular)" />
          <input name="ministerio" placeholder="Ministerio/Grupo (opcional)" />
          <select name="rol_key">
            <option value="miembro">Miembro</option>
            <option value="moderador">Moderador</option>
          </select>
          <button class="btn" type="submit">Guardar</button>
        </form>
      </section>

      <section class="card">
        <h3 class="with-emoji" data-emoji="â­">Comunidad Activa</h3>
        <div class="grid grid-compact">
          <button class="chip" data-action="retos">â­ Retos / DinÃ¡micas</button>
          <button class="chip" data-action="noticias">ğŸ“° Noticias parroquiales</button>
          <button class="chip" data-action="multimedia">ğŸ¶ Multimedia</button>
          <button class="chip" data-action="foro">ğŸ’¬ Foro Joven</button>
        </div>
        <p class="muted">(Estas secciones se habilitan por fases.)</p>
      </section>
    </section>

    <!-- RECURSOS -->
    <section class="view" id="view-recursos" data-view="recursos" tabindex="-1">
      <section class="card" id="recursos">
        <div class="flex">
          <h3 class="with-emoji" data-emoji="ğŸ“‚">Recursos</h3>
          <label class="btn small adminOnly" hidden>
            Subir archivo <input id="fileRec" type="file" hidden />
          </label>
        </div>
        <ul id="listaRecursos" class="file-list"></ul>
      </section>
    </section>

    <!-- AVISOS -->
    <section class="view" id="view-avisos" data-view="avisos" tabindex="-1">
      <section class="card">
        <div class="flex">
          <h3 class="with-emoji" data-emoji="ğŸ””">Avisos</h3>
          <button id="btnPermPush" class="btn small">Activar notificaciones</button>
        </div>
        <ul id="avisosList" class="notice-list"></ul>
      </section>
    </section>
  </main>

  <!-- Tabs -->
  <nav class="tabs" role="tablist" aria-label="Secciones principales">
    <button class="tab active" data-tab="inicio" role="tab" aria-selected="true">ğŸ <span>Inicio</span></button>
    <button class="tab" data-tab="eventos" role="tab" aria-selected="false">ğŸ“…<span>Eventos</span></button>
    <button class="tab" data-tab="comunidad" role="tab" aria-selected="false">ğŸ‘¥<span>Comunidad</span></button>
    <button class="tab" data-tab="recursos" role="tab" aria-selected="false">ğŸ“‚<span>Recursos</span></button>
    <button class="tab" data-tab="avisos" role="tab" aria-selected="false">ğŸ””<span>Avisos</span></button>
  </nav>

  <!-- FAB -->
  <button id="fab" class="fab" title="AcciÃ³n rÃ¡pida">ï¼‹</button>

  <!-- App -->
  <script src="app.js"></script>
</body>
</html>